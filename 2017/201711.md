# Difficulties & Bug
### 移动端页面解析 pdf 文件并预览
>ios可以直接打开 `pdf url(http://xxxx/imgtest/om/invoice/20171102095416_X1711020950268309.pdf)`  安卓不能直接打开。

>[pdf.js](https://github.com/mozilla/pdf.js)  可以实现预览，加载速度有点慢，依赖文件有点大。

>[jquery.media.js](http://justcoding.iteye.com/blog/2163072) 安卓并没有什么卵用，放弃

### vue事件机制
```bash
<div v-for="list in item.list" @click="touchEle($event)">
    <div>
        <i :class="[list.class,list.color]"></i><br />
        {{list.title}}
    </div>
</div>
```
### 仿 `ios select`下拉框效果
>[iosselect](https://github.com/zhoushengmufc/iosselect)

`console.log(ev.target)`得到的是 `<i :class="[list.class,list.color]"></i>`<br>
>原因是因为 `click` 事件是从 `i`标签冒泡上来的。此时若想得到父元素，可以使用 `ev.currentTarget`;

# knowledge
### 阴影效果实现
>`box-shadow: h-shadow v-shadow blur(模糊距离) spread(阴影的尺寸) color inset/outset;`

### vue-router中的 `#`
[#表示当前vue-router是hash模式](https://router.vuejs.org/zh-cn/essentials/history-mode.html) 

[mode可选的值](https://router.vuejs.org/zh-cn/api/options.html#mode)

# Common Code

### 图片加载出错时的处理

>在写移动端页面时，如果图片加载不成功，会出现一个边框，如果想图片加载失败时加载一张默认图片，可以使用 `img` 的 `onerror` 属性

`<img src="error.jpg" onerror="whenError(this)">`

```bash
function whenError(a){
    a.onerror=null; 
    a.src='http://err.jpg';
    console.log('图片出错的时候调用默认的图片');
}
```